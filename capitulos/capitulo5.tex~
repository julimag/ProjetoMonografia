%===============================================================================
% CAPITULO 5 - CONCLUSAO E TRABALHOS FUTUROS
%===============================================================================
\chapter{Conclusão}\label{chp:5}

O presente trabalho apresentou a ETX, uma estratégia que fornece estimativas para o tamanho dos resultados parciais de consultas XPath e XQuery sobre dados XML em ambiente distribuído. A ETX é uma estratégia inovadora, uma vez que não existem outros trabalhos que se propõem a mensurar o tamanho de resultados parciais, apenas se detem a estimar as cardinalidades.

A ETX possui arquitetura modular e flexível, o que facilita sua integração a qualquer estrutura de armazenamento XML, além de poder ser estendida quando se adicionam novas características.

O presente trabalho apresentou a ETX, uma estratégia que fornece subsídios para a redução dos custos de comunicação no processamento de consulta sobre dados XML em ambiente distribuído. A ETX permite estimar o tamanho dos resultados parciais de uma consulta e, diante desse conhecimento prévio, é possível evitar a transferência dos maiores resultados entre os sítios envolvidos e, consequentemente, diminuir o custo de comunicação. O foco da ETX é o tamanho e não apenas a cardinalidade dos elementos dos resultados intermediários, uma vez que elementos de mesma cardinalidade podem ter tamanhos diferentes.
% A estratégia proposta fornece meios para diminuir os custos com o tráfego dos dados no processamento de consulta.

% Contribuicao
A principal contribuição deste trabalho é a estratégia ETX, cujas estimativas são baseadas em diversos aspectos. A abrangência desses aspectos diferencia essa dissertação dos demais trabalhos existentes em: (i) suporte a consultas em linguagem XPath e XQuery, seja do tipo caminho (\textit{path}) ou do tipo árvore (\textit{twig}); (ii) manipulação de dados fragmentados, replicados e distribuídos; (iii) uso de esquemas de sumarização e numeração já consolidados.


%===================================================================
\section{Resultados}
%===================================================================

Alguns trabalhos acadêmicos e sistemas realizam estimativas de cardinalidade sobre dados XML \cite{FreireHRRS02}\cite{Sartiani03}\cite{TeubnerGMS08}\cite{Sakr08}. A maioria deles, porém, não estuda meios para distribuição de dados com suporte a fragmentação e replicação. Além disso, nenhum deles ressalta a diferença entre estimativas de cardinalidade e tamanho.

A ETX fornece informações para a redução dos custos de comunicação no processamento da consulta, visto que ela concede o conhecimento prévio do tamanho dos resultados intermediários envolvidos na consulta. Esta dissertação destaca a importância do conhecimento do tamanho dos resultados parciais e não somente da cardinalidade dos elementos envolvidos.

A ETX foi avaliada para constar a precisão das estimativas. Pela análise dos resultados, foi possível verificar que a ETX possui uma boa precisão nas estimativas realizadas para os tamanhos dos resultados parciais comparado aos tamanhos reais obtidos pela execução das consultas distribuídas em diversas situações. Apesar da boa precisão da estratégia ela ainda apresenta algumas deficiências em relação às restrições de escopo do formato das consultas suportadas. A ETX é flexível, permitindo a adaptação de outros esquemas de sumarização e numeração para redução do volume de dados e manutenção dos relacionamentos entre os nós. Ademais, é possível alterar a fase de casamento entre a consulta e o sumário, adotando outra técnica de mesma finalidade.

%===================================================================
\section{Considerações Finais e Trabalhos Futuros}
%===================================================================

O custo de comunicação é o tempo necessário para troca de dados entre os sítios que participam da execução de uma consulta. Ele incide no processamento das mensagens e na transmissão dos dados pela rede de comunicação. Para a otimização global de consultas distribuídas, esse custo é considerado o fator mais significativo. Sabendo disso, a estimativa de tamanho dos resultados parciais de uma consulta é uma fase essencial do otimizador.

Este trabalho apresentou a estratégia ETX para estimativas de tamanho sobre dados XML fragmentados, replicados e distribuídos. O estudo abrange consultas de caminho (\textit{path query}) e consultas de árvore (\textit{twig query}). O objetivo é estimar o tamanho dos resultados parciais de uma dada consulta global submetida a um ambiente distribuído e cujos dados estão fragmentados e replicados. Consultas de predicado de valor não são consideradas, mas apenas consultas de predicado de estrutura.

A existência de elementos de nomes iguais, mas de caminhos diferentes, não deve prejudicar na precisão das estimativas. Um elemento que não satisfaz a consulta deve ser desconsiderado, mesmo que tenha nome igual a algum dos consultados. O presente trabalho utiliza técnicas de sumarização e numeração já consolidadas.

A proposta foi analisada através de um exemplo de aplicação, pelo qual foi possível verificar que o trabalho fornece subsídios suficientes para melhorar o desempenho do processamento de consultas baseado no conhecimento dos custos de comunicação entre os sítios.

% Avaliou-se a proposta considerando diversas características de fragmentação e alocação. Pela análise dos resultados obtidos, foi possível verificar que o trabalho fornece subsídios suficientes para melhorar o desempenho do processamento de consultas baseado no conhecimento dos custos de comunicação entre os sítios.

% %===================================================================
% \section{Trabalhos Futuros}
% %===================================================================

Como trabalhos futuros, deve-se considerar consultas com predicado de valor e um conjunto mais amplo das consultas XQuery. Além disso, é interessante comparar a estratégia aqui proposta com os outros trabalhos relacionados aplicados ao ambiente distribuído. O uso da estratégia proposta com atualização do catálogo também é um trabalho futuro.

% Considerar replicação e estatísticas de consultas de conteúdo não-numérico (suportar compressão de dados no processamento de consultas).

% Ver artigo: Query Processing and Optimization in Native XML Databases \cite{Zhang06}
% Propomos uma abordagem utilizando heurísticas de otimização, estatísticas dos fragmentos e uma função de custo para determinação do melhor plano algébrico.

